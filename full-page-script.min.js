function nguyentinh_get_url(e){var n=document.createElement("a");return n.href=e,n}function nguyentinh_get_host_name(e){return null==e||""===e||e.match(/^\#/)?"":-1===(e=nguyentinh_get_url(e)).href.search(/^http[s]?:\/\//)?"":e.href.split("/")[2].split(":")[0].toLowerCase()}function nguyentinh_base64_encode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}))}function nguyentinh_get_wildcard_domains(e){var n=[];for(i=0;i<e.length;i++)e[i].match(/^\*\./)&&n.push(e[i].replace(/^\*\./,""));return n}function nguyentinh_match_wildcard_domain(e,n){var l=nguyentinh_get_wildcard_domains(e);for(i=0;i<l.length;i++)if(n.substr(-1*l[i].length)===l[i])return!0;return!1}function nguyentinh_domain_exist(e,n){return e.indexOf(n)>-1||nguyentinh_match_wildcard_domain(e,n)}document.addEventListener("DOMContentLoaded",function(e){if("undefined"!=typeof nguyentinh_url&&"undefined"!=typeof nguyentinh_api_token){var n=1;"undefined"!=typeof nguyentinh_advert&&(2==nguyentinh_advert&&(n=2),0==nguyentinh_advert&&(n=0));var l=document.getElementsByTagName("a");if("undefined"==typeof nguyentinh_domains)if("undefined"==typeof nguyentinh_exclude_domains);else for(t=0;t<l.length;t++)(i=nguyentinh_get_host_name(l[t].getAttribute("href"))).length>0&&!1===nguyentinh_domain_exist(nguyentinh_exclude_domains,i)?l[t].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(l[t].href)+"&type="+encodeURIComponent(n):"magnet:"===l[t].protocol&&(l[t].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(l[t].href)+"&type="+encodeURIComponent(n));else for(var t=0;t<l.length;t++){var i;(i=nguyentinh_get_host_name(l[t].getAttribute("href"))).length>0&&nguyentinh_domain_exist(nguyentinh_domains,i)?l[t].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(l[t].href)+"&type="+encodeURIComponent(n):"magnet:"===l[t].protocol&&(l[t].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(l[t].href)+"&type="+encodeURIComponent(n),l[t].setAttribute("href",i))}}});
