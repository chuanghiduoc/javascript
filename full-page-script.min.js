function nguyentinh_get_url(n){var e=document.createElement("a");return e.href=n,e}function nguyentinh_get_host_name(n){return null==n||""===n||n.match(/^\#/)?"":-1===(n=nguyentinh_get_url(n)).href.search(/^http[s]?:\/\//)?"":n.href.split("/")[2].split(":")[0].toLowerCase()}function nguyentinh_base64_encode(n){return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(n,e){return String.fromCharCode("0x"+e)}))}function nguyentinh_get_wildcard_domains(n){var e=[];for(i=0;i<n.length;i++)n[i].match(/^\*\./)&&e.push(n[i].replace(/^\*\./,""));return e}function nguyentinh_match_wildcard_domain(n,e){var t=nguyentinh_get_wildcard_domains(n);for(i=0;i<t.length;i++)if(e.substr(-1*t[i].length)===t[i])return!0;return!1}function nguyentinh_domain_exist(n,e){return n.indexOf(e)>-1||nguyentinh_match_wildcard_domain(n,e)}document.addEventListener("DOMContentLoaded",function(n){if("undefined"!=typeof nguyentinh_url&&"undefined"!=typeof nguyentinh_api_token){var e=1;"undefined"!=typeof nguyentinh_advert&&(2==nguyentinh_advert&&(e=2),0==nguyentinh_advert&&(e=0));var t=document.getElementsByTagName("a");if("undefined"==typeof nguyentinh_domains)if("undefined"==typeof nguyentinh_exclude_domains);else for(i=0;i<t.length;i++)(o=nguyentinh_get_host_name(t[i].getAttribute("href"))).length>0&&!1===nguyentinh_domain_exist(nguyentinh_exclude_domains,o)?t[i].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(t[i].href)+"&type="+encodeURIComponent(e):"magnet:"===t[i].protocol&&(t[i].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(t[i].href)+"&type="+encodeURIComponent(e));else for(var i=0;i<t.length;i++){var o;(o=nguyentinh_get_host_name(t[i].getAttribute("href"))).length>0&&nguyentinh_domain_exist(nguyentinh_domains,o)?t[i].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(t[i].href)+"&type="+encodeURIComponent(e):"magnet:"===t[i].protocol&&(t[i].href=nguyentinh_url+"full/?api="+encodeURIComponent(nguyentinh_api_token)+"&url="+nguyentinh_base64_encode(t[i].href)+"&type="+encodeURIComponent(e),t[i].setAttribute("href",o))}}});
